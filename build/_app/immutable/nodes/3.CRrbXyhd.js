import{f as k,a as C,c as fe}from"../chunks/D_J1-l2W.js";import{o as se}from"../chunks/qHwH1wXl.js";import{c as H,h as S,M as le,j as O,a as te,b as ie,A,N as oe,r as ue,H as ve,s as G,d as F,l as D,O as pe,P as ce,Q as J,f as de,k as X,o as ge,R as B,S as _e,T as K,U as he,V as me,W as Ee,X as Te,Y as y,g as ee,p as re,Z as z,_ as be,$ as we,i as Ae,D as xe,a0 as L,a1 as ye,L as P,F as V,I as Ie,a2 as Y,J as Me,K as U,G as Q,a3 as Ne}from"../chunks/sNgFwgPC.js";import{s as Ce}from"../chunks/Ba6aNxiv.js";import{i as W}from"../chunks/Byxg68l-.js";import{d as Se,s as ke}from"../chunks/CEqXXXuD.js";function Z(e,s){return s}function Re(e,s,l){for(var c=[],h=s.length,t,i=s.length,a=0;a<h;a++){let f=s[a];re(f,()=>{if(t){if(t.pending.delete(f),t.done.add(f),t.pending.size===0){var o=e.outrogroups;q(B(t.done)),o.delete(t),o.size===0&&(e.outrogroups=null)}}else i-=1},!1)}if(i===0){var u=c.length===0&&l!==null;if(u){var n=l,p=n.parentNode;we(p),p.append(n),e.items.clear()}q(s,!u)}else t={pending:new Set(s),done:new Set},(e.outrogroups??=new Set).add(t)}function q(e,s=!0){for(var l=0;l<e.length;l++)Ae(e[l],s)}var $;function j(e,s,l,c,h,t=null){var i=e,a=new Map;{var u=e;i=S?H(le(u)):u.appendChild(O())}S&&te();var n=null,p=oe(()=>{var v=l();return _e(v)?v:v==null?[]:B(v)}),f,o=!0;function I(){m.fallback=n,De(m,f,i,s,c),n!==null&&(f.length===0?(n.f&y)===0?ee(n):(n.f^=y,R(n,null,i)):re(n,()=>{n=null}))}var r=ie(()=>{f=A(p);var v=f.length;let d=!1;if(S){var g=ue(i)===ve;g!==(v===0)&&(i=G(),H(i),F(!1),d=!0)}for(var M=new Set,b=de,E=ge(),w=0;w<v;w+=1){S&&D.nodeType===pe&&D.data===ce&&(i=D,d=!0,F(!1));var N=f[w],_=c(N,w),T=o?null:a.get(_);T?(T.v&&J(T.v,N),T.i&&J(T.i,w),E&&b.skipped_effects.delete(T.e)):(T=He(a,o?i:$??=O(),N,_,w,h,s,l),o||(T.e.f|=y),a.set(_,T)),M.add(_)}if(v===0&&t&&!n&&(o?n=X(()=>t(i)):(n=X(()=>t($??=O())),n.f|=y)),S&&v>0&&H(G()),!o)if(E){for(const[ae,ne]of a)M.has(ae)||b.skipped_effects.add(ne.e);b.oncommit(I),b.ondiscard(()=>{})}else I();d&&F(!0),A(p)}),m={effect:r,items:a,outrogroups:null,fallback:n};o=!1,S&&(i=D)}function De(e,s,l,c,h){var t=s.length,i=e.items,a=e.effect.first,u,n=null,p=[],f=[],o,I,r,m;for(m=0;m<t;m+=1){if(o=s[m],I=h(o,m),r=i.get(I).e,e.outrogroups!==null)for(const _ of e.outrogroups)_.pending.delete(r),_.done.delete(r);if((r.f&y)!==0)if(r.f^=y,r===a)R(r,null,l);else{var v=n?n.next:a;r===e.effect.last&&(e.effect.last=r.prev),r.prev&&(r.prev.next=r.next),r.next&&(r.next.prev=r.prev),x(e,n,r),x(e,r,v),R(r,v,l),n=r,p=[],f=[],a=n.next;continue}if((r.f&z)!==0&&ee(r),r!==a){if(u!==void 0&&u.has(r)){if(p.length<f.length){var d=f[0],g;n=d.prev;var M=p[0],b=p[p.length-1];for(g=0;g<p.length;g+=1)R(p[g],d,l);for(g=0;g<f.length;g+=1)u.delete(f[g]);x(e,M.prev,b.next),x(e,n,M),x(e,b,d),a=d,n=b,m-=1,p=[],f=[]}else u.delete(r),R(r,a,l),x(e,r.prev,r.next),x(e,r,n===null?e.effect.first:n.next),x(e,n,r),n=r;continue}for(p=[],f=[];a!==null&&a!==r;)(u??=new Set).add(a),f.push(a),a=a.next;if(a===null)continue}(r.f&y)===0&&p.push(r),n=r,a=r.next}if(e.outrogroups!==null){for(const _ of e.outrogroups)_.pending.size===0&&(q(B(_.done)),e.outrogroups?.delete(_));e.outrogroups.size===0&&(e.outrogroups=null)}if(a!==null||u!==void 0){var E=[];if(u!==void 0)for(r of u)(r.f&z)===0&&E.push(r);for(;a!==null;)(a.f&z)===0&&a!==e.fallback&&E.push(a),a=a.next;var w=E.length;if(w>0){var N=t===0?l:null;Re(e,E,N)}}}function He(e,s,l,c,h,t,i,a){var u=(i&Ee)!==0?(i&Te)===0?he(l,!1,!1):K(l):null,n=(i&me)!==0?K(h):null;return{v:u,i:n,e:X(()=>(t(s,u??l,n??h,a),()=>{e.delete(c)}))}}function R(e,s,l){if(e.nodes)for(var c=e.nodes.start,h=e.nodes.end,t=s&&(s.f&y)===0?s.nodes.start:l;c!==null;){var i=be(c);if(t.before(c),c===h)return;c=i}}function x(e,s,l){s===null?e.effect.first=l:s.next=l,l===null?e.effect.last=s:l.prev=s}var Oe=k("<p>loading</p>"),Fe=k("<p> </p>"),ze=k('<img alt="character portrait"/>'),Le=k("<li></li>"),Ve=k("<p>got teams</p> <ul></ul>",1),Ye=k("<p>This is where the abyss page is</p> <!>",1);function Ke(e,s){xe(s,!0);let l=Ne(()=>s.data.mapping),c=L(ye([])),h=L(!0),t=L(null);se(async()=>{try{await i()}catch(f){Y(t,f instanceof Error?f.message:"An unknown error occurred",!0),console.error("Error in onMount:",f)}Y(h,!1)});const i=async()=>{const{data:f,error:o}=await Se.from("top_100_abyss_teams").select("*");if(o)throw new Error(o.message);Y(c,f,!0)};var a=Ye(),u=P(V(a),2);{var n=f=>{var o=Oe();C(f,o)},p=f=>{var o=fe(),I=V(o);{var r=v=>{var d=Fe(),g=Me(d,!0);U(d),Q(()=>Ce(g,A(t))),C(v,d)},m=v=>{var d=Ve(),g=P(V(d),2);j(g,21,()=>A(c),Z,(M,b)=>{var E=Le();j(E,21,()=>A(b).members,Z,(w,N)=>{var _=ze();Q(T=>ke(_,"src",T),[()=>A(l).get(A(N))??""]),C(w,_)}),U(E),C(M,E)}),U(g),C(v,d)};W(I,v=>{A(t)?v(r):v(m,!1)},!0)}C(f,o)};W(u,f=>{A(h)?f(n):f(p,!1)})}C(e,a),Ie()}export{Ke as component};
