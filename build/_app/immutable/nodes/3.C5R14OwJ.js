import{f as i,a as e,c as J}from"../chunks/BfAD_HAe.js";import{o as K}from"../chunks/Bqn63t7E.js";import{p as L,s as l,a as N,b,f,c as O,d as c,g as t,h as P,r as v,t as y,u as Q}from"../chunks/VJVRyu5x.js";import{s as R}from"../chunks/eWCsMIh_.js";import{i as w}from"../chunks/D5CkqELi.js";import{d as S,e as x,i as E,s as U}from"../chunks/ufLKdEgr.js";var V=i("<p>loading</p>"),W=i("<p> </p>"),X=i('<img alt="character portrait"/>'),Y=i("<li></li>"),Z=i("<p>got teams</p> <ul></ul>",1),$=i("<p>This is where the abyss page is</p> <!>",1);function ia(T,g){L(g,!0);let k=Q(()=>g.data.mapping),_=l(N([])),u=l(!0),m=l(null);K(async()=>{try{await A()}catch(a){c(m,a instanceof Error?a.message:"An unknown error occurred",!0),console.error("Error in onMount:",a)}c(u,!1)});const A=async()=>{const{data:a,error:r}=await S.from("top_100_abyss_teams").select("*").order("usage_total",{ascending:!1});if(r)throw new Error(r.message);c(_,a,!0)};var d=$(),M=b(f(d),2);{var j=a=>{var r=V();e(a,r)},q=a=>{var r=J(),z=f(r);{var B=s=>{var o=W(),n=P(o,!0);v(o),y(()=>R(n,t(m))),e(s,o)},C=s=>{var o=Z(),n=b(f(o),2);x(n,21,()=>t(_),E,(D,F)=>{var p=Y();x(p,21,()=>t(F).members,E,(G,H)=>{var h=X();y(I=>U(h,"src",I),[()=>t(k).get(t(H))??""]),e(G,h)}),v(p),e(D,p)}),v(n),e(s,o)};w(z,s=>{t(m)?s(B):s(C,!1)},!0)}e(a,r)};w(M,a=>{t(u)?a(j):a(q,!1)})}e(T,d),O()}export{ia as component};
